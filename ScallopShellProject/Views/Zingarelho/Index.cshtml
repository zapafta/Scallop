@{
    ViewData["Title"] = "Shop";
}

@model ScallopShellProject.Models.ZingarelhoViewModel


    <div class="form-control">
        <div class="row">
            <form class="form-control" method="post" id="articleForm" action="@Url.Action("SaveArticle", "Zingarelho")">
                <h1> ÁREA DO ARTIGO</h1>

                Descricao:
                <input class="col-1" required name="Article.Descricao" id="Descricao" type="text">
                PrecoUnit:
                <input class="col-1" required name="Article.PrecoUnit" pattern="\d*([.,\/]?\d+)" id="PrecoUnit" type="text">
                Qtd:
                <input class="col-1" required name="Article.Qtd" id="Qtd" type="number">
                <div class="col-1">

                    <select class="form-control" id="sel1" name="Article.IdCategory">
                        @foreach (var item in Model.ListAllCategories)
                        {
                            <option value="@item.Id">@item.Descricao</option>
                        }



                    </select>

                </div>
                <br />
                <br />
                <div class="col-3">
                    <div class="custom-control custom-radio">

                        <input type="radio" class="custom-control-input text" id="active" name="Article.active" value="1">
                        <label class="custom-control-label" for="active">Active</label>
                    </div>
                </div>
                <div class="col-3">

                    <div class="custom-control custom-radio">

                        <input type="radio" class="custom-control-input" id="inactive" name="Article.active" value="0">
                        <label class="custom-control-label" for="inactive">Inactive</label>

                    </div>
                </div>

                <br />
                <br />
                <br />
                <input type="file" id="files" name="files" />
                <br />

                <input type="hidden" id="base64" name="ListImage" />


                <input type="submit">



            </form>
        </div>
        <br />
        <br />
        


        <div class="row">
            <table width="100%" id="example" class="table-bordered embed-responsive-item">
                <thead>
                    <tr>

                        <th>Id</th>
                        <th>Descricao</th>
                        <th>PrecoUnit</th>
                        <th>Qtd</th>
                        <th>-</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.ListAllArticles)
                    {
                        <tr>
                            <td style="text-align:right">@item.Id</td>
                            <td style="text-align:right">@item.Descricao</td>
                            <td style="text-align:right">@item.PrecoUnit.ToString("0.##")</td>
                            <td style="text-align:right">@item.Qtd</td>
                            <td style="text-align:right">
                                <button type="button" onclick="alert('Hello world!')">Edit</button>
                            </td>

                        </tr>
                    }
                </tbody>
            </table>
        </div>

    </div>



<script>

    $(document).ready(function () {

if (window.File && window.FileReader && window.FileList && window.Blob) {
  document.getElementById('files').addEventListener('change', handleFileSelect, false);
} else {
  alert('The File APIs are not fully supported in this browser.');
}
        $('#example').DataTable();

    });

function handleFileSelect(evt) {
  var f = evt.target.files[0]; // FileList object
  var reader = new FileReader();
  // Closure to capture the file information.
  reader.onload = (function(theFile) {
    return function(e) {
      var binaryData = e.target.result;
      //Converting Binary Data to base 64
      var base64String = window.btoa(binaryData);
      //showing file converted to base64
      document.getElementById('base64').value = base64String;
    
    };
  })(f);
  // Read in the image file as a data URL.
  reader.readAsBinaryString(f);
}



</script>
